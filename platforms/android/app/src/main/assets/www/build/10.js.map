{"version":3,"sources":["../../src/pages/chat/group-list/group-list.module.ts","../../src/pages/chat/group-list/group-list.ts"],"names":[],"mappings":"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","file":"10.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { GroupListPage } from './group-list';\n\n@NgModule({\n  declarations: [\n    GroupListPage,\n  ],\n  imports: [\n    IonicPageModule.forChild(GroupListPage),\n  ],\n})\nexport class GroupListPageModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/chat/group-list/group-list.module.ts","import {Component} from '@angular/core';\nimport {ActionSheetController, AlertController, IonicPage, NavController, NavParams} from 'ionic-angular';\nimport {GroupProvider} from '../../../providers/tables/group/group';\nimport {StatusProvider} from '../../../providers/tables/status/status';\nimport {ToastProvider} from '../../../providers/utility/toast/toast';\n\n@IonicPage()\n@Component({\n  selector: 'page-group-list',\n  templateUrl: 'group-list.html',\n})\nexport class GroupListPage {\n\n  lock = false;\n\n  constructor(private toastProvider: ToastProvider, private alertCtrl: AlertController, private actionSheetCtrl: ActionSheetController, private statusProvider: StatusProvider, private groupProvider: GroupProvider, public navCtrl: NavController, public navParams: NavParams) {\n    this.lock = false;\n  }\n\n  createGroup() {\n    if (!this.groupProvider.groupLeaderFlag\n      && this.statusProvider.groupStatus != null\n      && this.statusProvider.groupStatus.startTime != null\n      && this.statusProvider.groupStatus.startTime != ''\n    ) {\n      this.toastProvider.showToast(\"Your team has started, ask your team leader to end game or invite you out!\");\n      return;\n    }\n    this.navCtrl.push(\"GroupProfilePage\");\n  }\n\n  showDismissAlert() {\n    let alert = this.alertCtrl.create({\n      title: 'Confirm dismiss',\n      message: 'If group is dismissed, all team members will have to join another group.',\n      buttons: [\n        {\n          text: 'Cancel',\n          role: 'cancel',\n          handler: () => {\n          }\n        },\n        {\n          text: 'Dismiss',\n          handler: () => {\n            this.statusProvider.deleteGroupStatus(this.groupProvider.userGroupId).then((res) => {\n            }).catch((err) => {\n            });\n          }\n        }\n      ]\n    });\n    alert.present();\n  }\n\n  showGroupOptions() {\n    let actionSheet = this.actionSheetCtrl.create({\n      title: 'Options:',\n      buttons: [\n        {\n          text: 'Edit',\n          handler: () => {\n            this.editGroup();\n          }\n        },\n        {\n          text: 'Dismiss',\n          handler: () => {\n            this.showDismissAlert();\n          }\n        },\n        {\n          text: 'Cancel',\n          role: 'cancel',\n          handler: () => {\n          }\n        }\n      ]\n    });\n    actionSheet.present();\n  }\n\n  joinGroup(groupId) {\n    this.lock = true;\n    if (this.groupProvider.groupLeaderFlag) {\n      this.statusProvider.deleteGroupStatus(this.groupProvider.userGroupId).then((res) => {\n        if (res == true) {\n          this.joinGroupFurther(groupId);\n        }\n      }).catch((err) => {\n      });\n    }\n    else {\n      if (this.groupProvider.userGroupId == null || this.groupProvider.userGroupId == '') {\n        this.joinGroupFurther(groupId);\n      }\n      else {\n        this.quitGroup().then((res) => {\n            if (res) {\n              this.joinGroupFurther(groupId);\n            }\n          }\n        ).catch((err) => {\n          console.log(err);\n        })\n      }\n\n    }\n  }\n\n  clearSearch() {\n    this.groupProvider.filterString = '';\n    this.groupProvider.filterGroupTable();\n  }\n\n  searchGroup(searchBar) {\n    var query = searchBar.target.value;\n    if (query == '' || query == null || query.trim() == '' || query.trim() == null) {\n      this.clearSearch();\n      return;\n    }\n    if (!isNaN(query)) {\n      query = parseInt(query) + '';\n    }\n    query = query.toLowerCase();\n    this.groupProvider.filterString = query;\n    this.groupProvider.filterGroupTable();\n  }\n\n  ionViewWillLeave() {\n    this.groupProvider.filterString = '';\n    this.statusProvider.getStatusTableOnce();\n  }\n\n\n  joinGroupFurther(groupId) {\n    this.groupProvider.joinGroup(groupId).then((res) => {\n      console.log(res);\n      this.lock = false;\n    }).catch((err) => {\n      console.log(err);\n      this.lock = false;\n    })\n  }\n\n  quitGroup() {\n    if (!this.groupProvider.groupLeaderFlag\n      && this.statusProvider.groupStatus != null\n      && this.statusProvider.groupStatus.startTime != null\n      && this.statusProvider.groupStatus.startTime != ''\n    ) {\n      this.toastProvider.showToast(\"Your team has started, ask your team leader to end game or invite you out!\");\n      return;\n    }\n    var promise = new Promise((resolve, reject) => {\n      this.groupProvider.quitGroup().then((res) => {\n        resolve(true);\n      }).catch((err) => {\n        reject(err);\n      })\n    });\n    return promise;\n  }\n\n  editGroup() {\n    this.navCtrl.push(\"GroupProfilePage\", {'groupId': this.groupProvider.userGroupId});\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/chat/group-list/group-list.ts"],"sourceRoot":""}