{"version":3,"sources":["../../src/pages/game/puzzle-solve/puzzle-solve.module.ts","../../src/pages/game/puzzle-solve/puzzle-solve.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;AAAyC;AACO;AACC;AACsB;AAWvE;IAAA;IAAoC,CAAC;IAAxB,qBAAqB;QATjC,uEAAQ,CAAC;YACR,YAAY,EAAE;gBACZ,sEAAe;aAChB;YACD,OAAO,EAAE;gBACP,sEAAe,CAAC,QAAQ,CAAC,sEAAe,CAAC;gBACzC,uFAAgB;aACjB;SACF,CAAC;OACW,qBAAqB,CAAG;IAAD,4BAAC;CAAA;AAAH;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACdoC;AAC2C;AAChD;AACM;AACN;AACE;AACE;AACG;AAC1B;AACG;AAC+B;AACb;AACZ;AAOvD;IAgBE,yBAAoB,YAA0B,EAC1B,QAAkB,EAClB,EAAqB,EACrB,iBAAoC,EACpC,eAAsC,EACtC,SAA0B,EAC1B,cAA8B,EAC9B,aAA4B,EAC5B,eAAgC,EAChC,YAA0B,EAC1B,YAA0B,EAC1B,cAA8B,EAC/B,OAAsB,EACtB,SAAoB;QAbnB,iBAAY,GAAZ,YAAY,CAAc;QAC1B,aAAQ,GAAR,QAAQ,CAAU;QAClB,OAAE,GAAF,EAAE,CAAmB;QACrB,sBAAiB,GAAjB,iBAAiB,CAAmB;QACpC,oBAAe,GAAf,eAAe,CAAuB;QACtC,cAAS,GAAT,SAAS,CAAiB;QAC1B,mBAAc,GAAd,cAAc,CAAgB;QAC9B,kBAAa,GAAb,aAAa,CAAe;QAC5B,oBAAe,GAAf,eAAe,CAAiB;QAChC,iBAAY,GAAZ,YAAY,CAAc;QAC1B,iBAAY,GAAZ,YAAY,CAAc;QAC1B,mBAAc,GAAd,cAAc,CAAgB;QAC/B,YAAO,GAAP,OAAO,CAAe;QACtB,cAAS,GAAT,SAAS,CAAW;QA5BvC,aAAQ,GAAG,EAAE,CAAC;QACd,SAAI,GAAG,KAAK,CAAC;QACb,eAAU,GAAG,EAAE,CAAC;QAChB,iBAAY,GAAG,KAAK,CAAC;QACZ,YAAO,GAAG,0BAA0B,CAAC;QACrC,iBAAY,GAAG,KAAK,CAAC;QACrB,cAAS,GAAG,KAAK,CAAC;QAC3B,oBAAe,GAAG,IAAI,CAAC,OAAO,CAAC;QAE/B,gBAAW,GAAG,KAAK,CAAC;QACpB,iBAAY,GAAG,KAAK,CAAC;QAmBnB,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC,SAAS,CAAC,GAAG,CAAC,UAAU,CAAC,CAAC;QAC/C,EAAE,CAAC,CAAC,IAAI,CAAC,cAAc,CAAC,YAAY,CAAC,IAAI,CAAC,QAAQ,CAAC,IAAI,IAAI,CAAC,CAAC,CAAC;YAC5D,IAAI,CAAC,OAAO,CAAC,GAAG,EAAE,CAAC;QACrB,CAAC;QACD,EAAE,CAAC,CAAC,CAAC,IAAI,CAAC,cAAc,CAAC,YAAY,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC,MAAM,CAAC,CAAC,CAAC;YAC5D,IAAI,CAAC,cAAc,CAAC,aAAa,GAAG,IAAI,CAAC,QAAQ,CAAC;QACpD,CAAC;QACD,IAAI,CAAC,UAAU,GAAG,EAAE,CAAC;QACrB,IAAI,CAAC,eAAe,GAAG,IAAI,CAAC,OAAO,CAAC;IACtC,CAAC;IAED,+BAAK,GAAL;QACE,MAAM,CAAC,IAAI,CAAC,QAAQ,CAAC,EAAE,CAAC,KAAK,CAAC,CAAC;IACjC,CAAC;IAED,kCAAQ,GAAR;QACE,EAAE,CAAC,CAAC,IAAI,CAAC,GAAG,IAAI,IAAI,CAAC;YACnB,IAAI,CAAC,GAAG,CAAC,KAAK,EAAE,CAAC;IACrB,CAAC;IAGD,yCAAe,GAAf;QAAA,iBAkBC;QAjBC,EAAE,CAAC,CAAC,IAAI,CAAC,eAAe,CAAC,eAAe,CAAC;YACvC,MAAM,CAAC;QACT,IAAI,CAAC,iBAAiB,CAAC,aAAa,EAAE;aACnC,IAAI,CAAC,UAAC,aAAsB;YAC3B,EAAE,CAAC,CAAC,CAAC,aAAa,CAAC,CAAC,CAAC;gBACnB,KAAI,CAAC,iBAAiB,CAAC,iBAAiB,EAAE,CAAC,IAAI,CAC7C;oBACE,KAAI,CAAC,eAAe,CAAC,eAAe,GAAG,IAAI,CAAC;gBAC9C,CAAC,EACD,cAAM,YAAI,CAAC,eAAe,CAAC,eAAe,GAAG,KAAK,EAA5C,CAA4C,CACnD;YACH,CAAC;YACD,IAAI,CAAC,CAAC;gBACJ,KAAI,CAAC,eAAe,CAAC,eAAe,GAAG,IAAI,CAAC;gBAC5C,KAAI,CAAC,qBAAqB,EAAE,CAAC;YAC/B,CAAC;QACH,CAAC,CAAC,CAAC;IACP,CAAC;IAED,qCAAW,GAAX,UAAY,KAAK;QACf,IAAI,CAAC,UAAU,GAAG,KAAK,CAAC;QACxB,IAAI,CAAC,cAAc,EAAE,CAAC;IACxB,CAAC;IAED,0CAAgB,GAAhB;QAAA,iBAMC;QALC,YAAY,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC;QAC5B,IAAI,CAAC,iBAAiB,CAAC,aAAa,EAAE,CAAC,IAAI,CAAC;YAC1C,KAAI,CAAC,WAAW,GAAG,KAAK,CAAC;YACzB,KAAI,CAAC,OAAO,GAAG,EAAc,CAAC;QAChC,CAAC,CAAC,CAAC;IACL,CAAC;IAED,uCAAa,GAAb;QACE,IAAI,CAAC,iBAAiB,EAAE,CAAC;IAC3B,CAAC;IAED,wCAAc,GAAd;QACE,IAAI,CAAC,YAAY,GAAG,KAAK,CAAC;QAC1B,IAAI,CAAC,gBAAgB,EAAE,CAAC;IAC1B,CAAC;IAED,2CAAiB,GAAjB;QACE,IAAI,CAAC,UAAU,GAAG,EAAE,CAAC;QACrB,EAAE,CAAC,CAAC,IAAI,CAAC,eAAe,CAAC,eAAe,CAAC;YACvC,IAAI,CAAC,qBAAqB,EAAE,CAAC;QAC/B,IAAI;YACF,IAAI,CAAC,eAAe,EAAE,CAAC;IAC3B,CAAC;IAED,+CAAqB,GAArB;QAAA,iBAeC;QAdC,IAAI,CAAC,YAAY,GAAG,IAAI,CAAC;QACzB,YAAY,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC;QAC5B,IAAI,CAAC,QAAQ,GAAG,UAAU,CAAC;YACzB,KAAI,CAAC,gBAAgB,EAAE,CAAC;QAC1B,CAAC,EAAE,KAAK,CAAC,CAAC;QACV,IAAI,CAAC,YAAY,GAAG,IAAI,CAAC;QACzB,IAAI,OAAO,GAAG;YACZ,QAAQ,EAAE,OAAO;SAClB;QACD,IAAI,CAAC,iBAAiB,CAAC,cAAc,EAAE,CAAC,SAAS,CAAC,iBAAO;YACvD,KAAI,CAAC,OAAO,GAAG,OAAO,CAAC;YACvB,KAAI,CAAC,EAAE,CAAC,aAAa,EAAE,CAAC;QAC1B,CAAC,CAAC,CAAC;QACH,IAAI,CAAC,WAAW,GAAG,IAAI,CAAC;IAC1B,CAAC;IAED,uCAAa,GAAb;QACE,EAAE,CAAC,CAAC,IAAI,CAAC,KAAK,EAAE,CAAC;YACf,IAAI,CAAC,cAAc,EAAE,CAAC;IAC1B,CAAC;IAED,uCAAa,GAAb;QAAA,iBAIC;QAHC,UAAU,CAAC;YACT,KAAI,CAAC,eAAe,CAAC,iBAAiB,GAAG,KAAK,CAAC;QACjD,CAAC,EAAE,IAAI,CAAC,CAAC;IACX,CAAC;IAED,kCAAQ,GAAR;QACE,IAAI,CAAC,QAAQ,EAAE,CAAC;QAChB,IAAI,WAAW,GAAG,IAAI,CAAC,OAAO,CAAC,oBAAoB,EAAE,CAAC,YAAY;QAClE,IAAI,cAAc,GAAG,IAAI,CAAC,OAAO,CAAC,oBAAoB,EAAE,CAAC,aAAa;cAClE,IAAI,CAAC,OAAO,CAAC,oBAAoB,EAAE,CAAC,SAAS,GAAG,EAAE,CAAC;QACvD,EAAE,CAAC,CAAC,cAAc,GAAG,WAAW,CAAC;YAC/B,IAAI,CAAC,YAAY,GAAG,KAAK,CAAC;QAC5B,IAAI;YACF,IAAI,CAAC,YAAY,GAAG,IAAI,CAAC;IAC7B,CAAC;IAED,uCAAa,GAAb;QACE,IAAI,CAAC,YAAY,GAAG,IAAI,CAAC;IAC3B,CAAC;IAED,qCAAW,GAAX;QACE,IAAI,CAAC,YAAY,GAAG,KAAK,CAAC;IAC5B,CAAC;IAED,qCAAW,GAAX;QAAA,iBAkDC;QAjDC,EAAE,CAAC,CAAC,IAAI,CAAC,eAAe,CAAC,iBAAiB,CAAC,CAAC,CAAC;YAC3C,IAAI,WAAW,GAAG,IAAI,CAAC,eAAe,CAAC,MAAM,CAAC;gBAC5C,KAAK,EAAE,8BAA8B;gBACrC,OAAO,EAAE;oBACP;wBACE,IAAI,EAAE,mBAAmB;wBACzB,OAAO,EAAE;4BACP,KAAI,CAAC,eAAe,CAAC,iBAAiB,GAAG,KAAK,CAAC;wBACjD,CAAC;qBACF;oBACD;wBACE,IAAI,EAAE,WAAW;wBACjB,OAAO,EAAE;wBACT,CAAC;qBACF;oBACD;wBACE,IAAI,EAAE,QAAQ;wBACd,IAAI,EAAE,QAAQ;wBACd,OAAO,EAAE;wBACT,CAAC;qBACF;iBACF;aACF,CAAC,CAAC;YACH,WAAW,CAAC,OAAO,EAAE,CAAC;QACxB,CAAC;QAAC,IAAI,CAAC,CAAC;YACN,IAAI,WAAW,GAAG,IAAI,CAAC,eAAe,CAAC,MAAM,CAAC;gBAC5C,KAAK,EAAE,8BAA8B;gBACrC,OAAO,EAAE;oBACP;wBACE,IAAI,EAAE,mBAAmB;wBACzB,OAAO,EAAE;4BACP,KAAI,CAAC,eAAe,CAAC,iBAAiB,GAAG,IAAI,CAAC;wBAChD,CAAC;qBACF;oBACD;wBACE,IAAI,EAAE,WAAW;wBACjB,OAAO,EAAE;wBACT,CAAC;qBACF;oBACD;wBACE,IAAI,EAAE,QAAQ;wBACd,IAAI,EAAE,QAAQ;wBACd,OAAO,EAAE;wBACT,CAAC;qBACF;iBACF;aACF,CAAC,CAAC;YACH,WAAW,CAAC,OAAO,EAAE,CAAC;QACxB,CAAC;IACH,CAAC;IAED,mCAAS,GAAT;QACE,IAAI,CAAC,QAAQ,EAAE,CAAC;QAChB,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,WAAW,CAAC,CAAC;IACjC,CAAC;IAED,kCAAQ,GAAR;QACE,IAAI,CAAC,QAAQ,EAAE,CAAC;QAChB,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC;IAChC,CAAC;IAED,mCAAS,GAAT;QACE,IAAI,CAAC,QAAQ,EAAE,CAAC;QAChB,IAAI,MAAM,GAAG,EAAE,CAAC;QAChB,MAAM,CAAC,IAAI,CAAC;YACV,GAAG,EAAE,sIAAsI;SAC5I,CAAC;QACF,IAAI,KAAK,GAAG,IAAI,CAAC,SAAS,CAAC,MAAM,CAAC,yEAAY,EAAE;YAC5C,MAAM,EAAE,MAAM;YACd,YAAY,EAAE,CAAC;SAChB,CAAC,CACH;QACD,KAAK,CAAC,OAAO,EAAE,CAAC;IAClB,CAAC;IAED,iCAAO,GAAP;QACE,IAAI,CAAC,QAAQ,EAAE,CAAC;QAChB,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC;IAC/B,CAAC;IAED,oCAAU,GAAV;QACE,IAAI,CAAC,QAAQ,EAAE,CAAC;QAChB,IAAI,WAAW,GAAG,IAAI,CAAC,SAAS,CAAC,MAAM,CAAC,gGAAmB,CAAC,CAAC;QAC7D,WAAW,CAAC,YAAY,CAAC,CAAC,cAAI;QAC9B,CAAC,CAAC,CAAC,CAAC;QACJ,WAAW,CAAC,OAAO,EAAE,CAAC;IACxB,CAAC;IAED,mCAAS,GAAT;QACE,IAAI,MAAM,GAAG,EAAE,CAAC;QAChB,MAAM,CAAC,IAAI,CAAC;YACV,GAAG,EAAE,IAAI,CAAC,YAAY,CAAC,aAAa,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC,QAAQ;SAC7D,CAAC;QACF,IAAI,KAAK,GAAG,IAAI,CAAC,SAAS,CAAC,MAAM,CAAC,yEAAY,EAAE;YAC5C,MAAM,EAAE,MAAM;YACd,YAAY,EAAE,CAAC;SAChB,CAAC,CACH;QACD,KAAK,CAAC,OAAO,EAAE,CAAC;IAClB,CAAC;IAED,0CAAgB,GAAhB;QACE,yBAAyB;IAC3B,CAAC;IAED,wCAAc,GAAd;QAAA,iBAIC;QAHC,UAAU,CAAC;YACT,KAAI,CAAC,OAAO,CAAC,cAAc,CAAC,GAAG,CAAC,CAAC;QACnC,CAAC,EAAE,GAAG,CAAC,CAAC;IACV,CAAC;IAED,0CAAgB,GAAhB;QACE,IAAI,CAAC,cAAc,CAAC,aAAa,GAAG,EAAE,CAAC;QACvC,EAAE,CAAC,CAAC,IAAI,CAAC,KAAK,EAAE,CAAC,CAAC,CAAC;YACjB,IAAI,CAAC,cAAc,EAAE,CAAC;QACxB,CAAC;IAEH,CAAC;IAED,qCAAW,GAAX;QACE,IAAI,aAAa,GAAG,IAAI,CAAC,YAAY,CAAC,aAAa,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC,MAAM,CAAC,IAAI,EAAE,CAAC,WAAW,EAAE,CAAC;QAC/F,IAAI,UAAU,GAAG,IAAI,CAAC,YAAY,CAAC,aAAa,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC,YAAY,CAAC;QAC7E,+BAA+B;QAC/B,IAAI,YAAY,GAAG,IAAI,CAAC,UAAU,CAAC,IAAI,EAAE,CAAC,WAAW,EAAE,CAAC;QACxD,EAAE,CAAC,CAAC,UAAU,CAAC,CAAC,CAAC;YACf,MAAM,CAAC,aAAa,IAAI,YAAY,CAAC;QACvC,CAAC;QAAC,IAAI,CAAC,CAAC;YACN,gIAAgI;YAChI,MAAM,CAAC,CAAC,YAAY,CAAC,MAAM,IAAI,GAAG,GAAG,aAAa,CAAC,MAAM,IAAI,CAAC,YAAY,CAAC,OAAO,CAAC,aAAa,CAAC,IAAI,CAAC,IAAI,aAAa,CAAC,OAAO,CAAC,YAAY,CAAC,IAAI,CAAC,CAAC,CAAC;QACtJ,CAAC;IACH,CAAC;IAED,sCAAY,GAAZ;QAAA,iBA4BC;QA3BC,EAAE,CAAC,CAAC,CAAC,IAAI,CAAC,WAAW,EAAE,CAAC,CAAC,CAAC;YACxB,IAAI,CAAC,aAAa,CAAC,SAAS,CAAC,+BAA+B,CAAC,CAAC;YAC9D,MAAM;QACR,CAAC;QACD,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC;QACjB,IAAI,CAAC,cAAc,CAAC,UAAU,CAAC,2BAA2B,CAAC,CAAC;QAC5D,IAAI,CAAC,cAAc,CAAC,YAAY,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC,IAAI,CAAC,UAAC,GAAG;YACvD,KAAI,CAAC,cAAc,CAAC,WAAW,CAAC,KAAI,CAAC,cAAc,CAAC,WAAW,CAAC,CAAC,IAAI,CAAC,UAAC,GAAG;gBACxE,KAAI,CAAC,IAAI,GAAG,KAAK,CAAC;gBAClB,KAAI,CAAC,cAAc,CAAC,aAAa,EAAE,CAAC;gBACpC,EAAE,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC;oBACR,EAAE,CAAC,CAAC,KAAI,CAAC,YAAY,CAAC,aAAa,CAAC,KAAI,CAAC,QAAQ,CAAC,IAAI,IAAI;2BACrD,KAAI,CAAC,YAAY,CAAC,aAAa,CAAC,KAAI,CAAC,QAAQ,CAAC,CAAC,MAAM,IAAI,IAAI;2BAC7D,KAAI,CAAC,YAAY,CAAC,aAAa,CAAC,KAAI,CAAC,QAAQ,CAAC,CAAC,MAAM,IAAI,EAAE,CAAC,CAAC,CAAC;wBACjE,KAAI,CAAC,cAAc,EAAE,CAAC;oBACxB,CAAC;oBAAC,IAAI,CAAC,CAAC;wBACN,KAAI,CAAC,OAAO,CAAC,GAAG,EAAE,CAAC;oBACrB,CAAC;gBACH,CAAC;YACH,CAAC,CAAC,CAAC,KAAK,CAAC,UAAC,GAAG;gBACX,KAAI,CAAC,IAAI,GAAG,KAAK,CAAC;gBAClB,KAAI,CAAC,cAAc,CAAC,aAAa,EAAE,CAAC;YACtC,CAAC,CAAC,CAAC;QACL,CAAC,CAAC,CAAC,KAAK,CAAC,UAAC,GAAG;YACX,KAAI,CAAC,IAAI,GAAG,KAAK,CAAC;YAClB,KAAI,CAAC,cAAc,CAAC,aAAa,EAAE,CAAC;QACtC,CAAC,CAAC,CAAC;IACL,CAAC;IAED,mCAAS,GAAT;QAAA,iBAiBC;QAhBC,EAAE,CAAC,CAAC,IAAI,CAAC,UAAU,EAAE,CAAC,CAAC,CAAC;YACtB,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC;YACjB,IAAI,CAAC,cAAc,CAAC,UAAU,CAAC,wBAAwB,CAAC,CAAC;YACzD,IAAI,CAAC,cAAc,CAAC,SAAS,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC,IAAI,CAAC,UAAC,GAAG;gBACpD,KAAI,CAAC,cAAc,CAAC,WAAW,CAAC,KAAI,CAAC,cAAc,CAAC,SAAS,CAAC,CAAC,IAAI,CAAC,UAAC,GAAG;oBACtE,KAAI,CAAC,IAAI,GAAG,KAAK,CAAC;oBAClB,KAAI,CAAC,cAAc,CAAC,aAAa,EAAE,CAAC;gBACtC,CAAC,CAAC,CAAC,KAAK,CAAC,UAAC,GAAG;oBACX,KAAI,CAAC,IAAI,GAAG,KAAK,CAAC;oBAClB,KAAI,CAAC,cAAc,CAAC,aAAa,EAAE,CAAC;gBACtC,CAAC,CAAC,CAAC;YACL,CAAC,CAAC,CAAC,KAAK,CAAC,UAAC,GAAG;gBACX,KAAI,CAAC,IAAI,GAAG,KAAK,CAAC;gBAClB,KAAI,CAAC,cAAc,CAAC,aAAa,EAAE,CAAC;YACtC,CAAC,CAAC,CAAC;QACL,CAAC;IACH,CAAC;IAED,mCAAS,GAAT;QAAA,iBAiBC;QAhBC,EAAE,CAAC,CAAC,IAAI,CAAC,UAAU,EAAE,CAAC,CAAC,CAAC;YACtB,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC;YACjB,IAAI,CAAC,cAAc,CAAC,UAAU,CAAC,wBAAwB,CAAC,CAAC;YACzD,IAAI,CAAC,cAAc,CAAC,SAAS,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC,IAAI,CAAC,UAAC,GAAG;gBACpD,KAAI,CAAC,cAAc,CAAC,WAAW,CAAC,KAAI,CAAC,cAAc,CAAC,SAAS,CAAC,CAAC,IAAI,CAAC,UAAC,GAAG;oBACtE,KAAI,CAAC,IAAI,GAAG,KAAK,CAAC;oBAClB,KAAI,CAAC,cAAc,CAAC,aAAa,EAAE,CAAC;gBACtC,CAAC,CAAC,CAAC,KAAK,CAAC,UAAC,GAAG;oBACX,KAAI,CAAC,IAAI,GAAG,KAAK,CAAC;oBAClB,KAAI,CAAC,cAAc,CAAC,aAAa,EAAE,CAAC;gBACtC,CAAC,CAAC,CAAC;YACL,CAAC,CAAC,CAAC,KAAK,CAAC,UAAC,GAAG;gBACX,KAAI,CAAC,IAAI,GAAG,KAAK,CAAC;gBAClB,KAAI,CAAC,cAAc,CAAC,aAAa,EAAE,CAAC;YACtC,CAAC,CAAC,CAAC;QACL,CAAC;IACH,CAAC;IAED,oCAAU,GAAV;QACE,EAAE,CAAC,CAAC,IAAI,CAAC,cAAc,CAAC,WAAW,CAAC,KAAK,GAAG,EAAE,CAAC,CAAC,CAAC;YAC/C,IAAI,CAAC,aAAa,CAAC,SAAS,CAAC,uCAAuC,CAAC,CAAC;YACtE,MAAM,CAAC,KAAK;QACd,CAAC;QACD,MAAM,CAAC,IAAI,CAAC;IACd,CAAC;IAtVqB;QAArB,yEAAS,CAAC,SAAS,CAAC;kCAAU,8DAAO;oDAAC;IACrB;QAAjB,yEAAS,CAAC,KAAK,CAAC;kCAAM,mEAAY;gDAAC;IAdzB,eAAe;QAJ3B,wEAAS,CAAC;YACT,QAAQ,EAAE,mBAAmB;WACG;SACjC,CAAC;4EAiB8C;YAChB,wEAAQ;YACd,4FAAiB;YACF,4EAAiB;YACnB,uEAAqB;YAC3B,yFAAe;YACV,sFAAc;YACf,mFAAa;YACX,kFAAe;YAClB,iFAAY;YACZ,uFAAc;YACZ,qEAAc;YACtB,kEAAa;YACX,SAAS;OA7B5B,eAAe,CAoW3B;IAAD,CAAC;AAAA;SApWY,eAAe,gB","file":"4.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { PuzzleSolvePage } from './puzzle-solve';\nimport {ComponentsModule} from '../../../components/components.module';\n\n@NgModule({\n  declarations: [\n    PuzzleSolvePage,\n  ],\n  imports: [\n    IonicPageModule.forChild(PuzzleSolvePage),\n    ComponentsModule\n  ],\n})\nexport class PuzzleSolvePageModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/game/puzzle-solve/puzzle-solve.module.ts","import {ChangeDetectorRef, Component, ViewChild} from '@angular/core';\nimport {\n  ActionSheetController, Content, FabContainer, IonicPage, NavController, NavParams,\n  Platform\n} from 'ionic-angular';\nimport {GameProvider} from '../../../providers/tables/game/game';\nimport {StatusProvider} from '../../../providers/tables/status/status';\nimport {UserProvider} from '../../../providers/tables/user/user';\nimport {SettingProvider} from '../../../providers/setting/setting';\nimport {ToastProvider} from '../../../providers/utility/toast/toast';\nimport {LoaderProvider} from '../../../providers/utility/loader/loader';\nimport {ModalController} from 'ionic-angular';\nimport {GalleryModal} from 'ionic-gallery-modal';\nimport {CanvasDrawComponent} from '../../../components/canvas-draw/canvas-draw';\nimport {SpeechRecognition} from '@ionic-native/speech-recognition';\nimport {DomSanitizer} from '@angular/platform-browser';\n\n@IonicPage()\n@Component({\n  selector: 'page-puzzle-solve',\n  templateUrl: 'puzzle-solve.html',\n})\nexport class PuzzleSolvePage {\n  puzzleId = '';\n  lock = false;\n  answerTemp = '';\n  onScrollFlag = false;\n  readonly noAudio = \"Enter your answer here: \";\n  readonly forwardSlash = /\\//g;\n  readonly backSlash = /\\\\/g;\n  placeHolderText = this.noAudio;\n  matches: string[];\n  isRecording = false;\n  micActivated = false;\n  micTimer;\n  @ViewChild('content') content: Content;\n  @ViewChild('fab') fab: FabContainer;\n\n  constructor(private domSanitizer: DomSanitizer,\n              private platform: Platform,\n              private cd: ChangeDetectorRef,\n              private speechRecognition: SpeechRecognition,\n              private actionSheetCtrl: ActionSheetController,\n              private modalCtrl: ModalController,\n              private loaderProvider: LoaderProvider,\n              private toastProvider: ToastProvider,\n              private settingProvider: SettingProvider,\n              private userProvider: UserProvider,\n              private gameProvider: GameProvider,\n              private statusProvider: StatusProvider,\n              public navCtrl: NavController,\n              public navParams: NavParams) {\n    this.puzzleId = this.navParams.get('puzzleId');\n    if (this.statusProvider.puzzleStatus[this.puzzleId] == null) {\n      this.navCtrl.pop();\n    }\n    if (!this.statusProvider.puzzleStatus[this.puzzleId].solved) {\n      this.statusProvider.solvingPuzzle = this.puzzleId;\n    }\n    this.answerTemp = '';\n    this.placeHolderText = this.noAudio;\n  }\n\n  isIos() {\n    return this.platform.is('ios');\n  }\n\n  closeFab() {\n    if (this.fab != null)\n      this.fab.close();\n  }\n\n\n  checkPermission() {\n    if (this.settingProvider.audioPermission)\n      return;\n    this.speechRecognition.hasPermission()\n      .then((hasPermission: boolean) => {\n        if (!hasPermission) {\n          this.speechRecognition.requestPermission().then(\n            () => {\n              this.settingProvider.audioPermission = true;\n            },\n            () => this.settingProvider.audioPermission = false\n          )\n        }\n        else {\n          this.settingProvider.audioPermission = true;\n          this.startListeningFurther();\n        }\n      });\n  }\n\n  selectMatch(match) {\n    this.answerTemp = match;\n    this.closeMicChanel();\n  }\n\n  stopListeningMic() {\n    clearTimeout(this.micTimer);\n    this.speechRecognition.stopListening().then(() => {\n      this.isRecording = false;\n      this.matches = [] as string[];\n    });\n  }\n\n  openMicChanel() {\n    this.startListeningMic();\n  }\n\n  closeMicChanel() {\n    this.micActivated = false;\n    this.stopListeningMic();\n  }\n\n  startListeningMic() {\n    this.answerTemp = '';\n    if (this.settingProvider.audioPermission)\n      this.startListeningFurther();\n    else\n      this.checkPermission();\n  }\n\n  startListeningFurther() {\n    this.micActivated = true;\n    clearTimeout(this.micTimer);\n    this.micTimer = setTimeout(() => {\n      this.stopListeningMic();\n    }, 10000);\n    this.micActivated = true;\n    let options = {\n      language: 'en-US'\n    }\n    this.speechRecognition.startListening().subscribe(matches => {\n      this.matches = matches;\n      this.cd.detectChanges();\n    });\n    this.isRecording = true;\n  }\n\n  answerOnfocus() {\n    if (this.isIos())\n      this.closeMicChanel();\n  }\n\n  hideTimeScore() {\n    setTimeout(() => {\n      this.settingProvider.showTimeScoreFlag = false;\n    }, 1000);\n  }\n\n  onScroll() {\n    this.closeFab();\n    var fixedHeight = this.content.getContentDimensions().scrollHeight\n    var relativeHeight = this.content.getContentDimensions().contentHeight\n      + this.content.getContentDimensions().scrollTop + 50;\n    if (relativeHeight > fixedHeight)\n      this.onScrollFlag = false;\n    else\n      this.onScrollFlag = true;\n  }\n\n  onScrollStart() {\n    this.onScrollFlag = true;\n  }\n\n  onScrollEnd() {\n    this.onScrollFlag = false;\n  }\n\n  showOptions() {\n    if (this.settingProvider.showTimeScoreFlag) {\n      let actionSheet = this.actionSheetCtrl.create({\n        title: 'Hey yo! What do yo wanna do?',\n        buttons: [\n          {\n            text: 'Hide Time & Score',\n            handler: () => {\n              this.settingProvider.showTimeScoreFlag = false;\n            }\n          },\n          {\n            text: 'Ask Admin',\n            handler: () => {\n            }\n          },\n          {\n            text: 'Cancel',\n            role: 'cancel',\n            handler: () => {\n            }\n          }\n        ]\n      });\n      actionSheet.present();\n    } else {\n      let actionSheet = this.actionSheetCtrl.create({\n        title: 'Hey yo! What do yo wanna do?',\n        buttons: [\n          {\n            text: 'Show Time & Score',\n            handler: () => {\n              this.settingProvider.showTimeScoreFlag = true;\n            }\n          },\n          {\n            text: 'Ask Admin',\n            handler: () => {\n            }\n          },\n          {\n            text: 'Cancel',\n            role: 'cancel',\n            handler: () => {\n            }\n          }\n        ]\n      });\n      actionSheet.present();\n    }\n  }\n\n  viewIntro() {\n    this.closeFab();\n    this.navCtrl.push('IntroPage');\n  }\n\n  viewRank() {\n    this.closeFab();\n    this.navCtrl.push(\"RankPage\");\n  }\n\n  viewTable() {\n    this.closeFab();\n    var photos = [];\n    photos.push({\n      url: 'https://firebasestorage.googleapis.com/v0/b/fyp03-136e5.appspot.com/o/Table.jpg?alt=media&token=a1264fe1-983b-464e-8690-95ab6dfe3228'\n    })\n    let modal = this.modalCtrl.create(GalleryModal, {\n        photos: photos,\n        initialSlide: 0\n      })\n    ;\n    modal.present();\n  }\n\n  viewMap() {\n    this.closeFab();\n    this.navCtrl.push(\"MapPage\");\n  }\n\n  showCanvas() {\n    this.closeFab();\n    let canvasModal = this.modalCtrl.create(CanvasDrawComponent);\n    canvasModal.onDidDismiss((data => {\n    }));\n    canvasModal.present();\n  }\n\n  openImage() {\n    var photos = [];\n    photos.push({\n      url: this.gameProvider.puzzleDetails[this.puzzleId].photoUrl\n    })\n    let modal = this.modalCtrl.create(GalleryModal, {\n        photos: photos,\n        initialSlide: 0\n      })\n    ;\n    modal.present();\n  }\n\n  ionViewWillEnter() {\n    // this.scrollToBottom();\n  }\n\n  scrollToBottom() {\n    setTimeout(() => {\n      this.content.scrollToBottom(300);\n    }, 300);\n  }\n\n  ionViewWillLeave() {\n    this.statusProvider.solvingPuzzle = '';\n    if (this.isIos()) {\n      this.closeMicChanel();\n    }\n\n  }\n\n  checkAnswer(): boolean {\n    var correctAnswer = this.gameProvider.puzzleDetails[this.puzzleId].answer.trim().toLowerCase();\n    var strictFlag = this.gameProvider.puzzleDetails[this.puzzleId].strictAnswer;\n    //ignore space, lower case only\n    var cookedAnswer = this.answerTemp.trim().toLowerCase();\n    if (strictFlag) {\n      return correctAnswer == cookedAnswer;\n    } else {\n      //cookedAnswer match 80% of correct answer length, correct answer contains cookedAnswer, or cookedAnswer contains correct answer\n      return (cookedAnswer.length >= 0.8 * correctAnswer.length && (cookedAnswer.indexOf(correctAnswer) >= 0 || correctAnswer.indexOf(cookedAnswer) >= 0))\n    }\n  }\n\n  answerPuzzle() {\n    if (!this.checkAnswer()) {\n      this.toastProvider.showToast(\"Oops, wrong answer, try again\");\n      return\n    }\n    this.lock = true;\n    this.loaderProvider.showLoader(\"Correct answer, updating!\");\n    this.statusProvider.answerPuzzle(this.puzzleId).then((res) => {\n      this.statusProvider.changePoint(this.statusProvider.answerPoint).then((res) => {\n        this.lock = false;\n        this.loaderProvider.dismissLoader();\n        if (res) {\n          if (this.gameProvider.puzzleDetails[this.puzzleId] != null\n            && this.gameProvider.puzzleDetails[this.puzzleId].memory != null\n            && this.gameProvider.puzzleDetails[this.puzzleId].memory != '') {\n            this.scrollToBottom();\n          } else {\n            this.navCtrl.pop();\n          }\n        }\n      }).catch((err) => {\n        this.lock = false;\n        this.loaderProvider.dismissLoader();\n      });\n    }).catch((err) => {\n      this.lock = false;\n      this.loaderProvider.dismissLoader();\n    });\n  }\n\n  viewHint1() {\n    if (this.checkPoint()) {\n      this.lock = true;\n      this.loaderProvider.showLoader(\"Hint will be uncovered\");\n      this.statusProvider.viewHint1(this.puzzleId).then((res) => {\n        this.statusProvider.changePoint(this.statusProvider.hintPoint).then((res) => {\n          this.lock = false;\n          this.loaderProvider.dismissLoader();\n        }).catch((err) => {\n          this.lock = false;\n          this.loaderProvider.dismissLoader();\n        });\n      }).catch((err) => {\n        this.lock = false;\n        this.loaderProvider.dismissLoader();\n      });\n    }\n  }\n\n  viewHint2() {\n    if (this.checkPoint()) {\n      this.lock = true;\n      this.loaderProvider.showLoader(\"Hint will be uncovered\");\n      this.statusProvider.viewHint2(this.puzzleId).then((res) => {\n        this.statusProvider.changePoint(this.statusProvider.hintPoint).then((res) => {\n          this.lock = false;\n          this.loaderProvider.dismissLoader();\n        }).catch((err) => {\n          this.lock = false;\n          this.loaderProvider.dismissLoader();\n        });\n      }).catch((err) => {\n        this.lock = false;\n        this.loaderProvider.dismissLoader();\n      });\n    }\n  }\n\n  checkPoint() {\n    if (this.statusProvider.groupStatus.point < 20) {\n      this.toastProvider.showToast(\"Point not enough, ask admin for help!\");\n      return false\n    }\n    return true;\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/game/puzzle-solve/puzzle-solve.ts"],"sourceRoot":""}